(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{17:function(t,e,n){t.exports=n(22)},22:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return mt}));var a=n(0),i=n.n(a),r=n(4),s=n.n(r),o=n(3),l=n(2),c=n.n(l),u=(n(10),n(1)),h=n.n(u);function f(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var m=function(){function t(e,n,a,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e?(this.x=0,this.y=0,this.z=0,this.saveMag=!1):this.set(e,n,a,i)}var e,n,a;return e=t,(n=[{key:"setSaving",value:function(t){return t?this._saveMags():this.saveMag=!1,this}},{key:"setV",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.saveMag=t.saveMag,this.saveMag&&(this._mag=t._mag,this._magSq=t._magSq),this}},{key:"set",value:function(e,n,a,i){return e instanceof t?this.setV(e):(e instanceof Array?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0,this.saveMag=!1):(this.x=e||0,this.y=n||0,this.z=a||0,i="boolean"==typeof i?i:this.saveMag||!1,this.saveMag=!1),i&&this._saveMags(),this)}},{key:"_saveMags",value:function(){this.saveMag=!1,this._magSq=this.magSq(),this._mag=this.mag(),this.saveMag=!0}},{key:"copy",value:function(){return(new t).setV(this)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"dotArr",value:function(t,e,n){return this.x*t+this.y*e+this.z*n}},{key:"magSq",value:function(){return this.saveMag&&void 0!==this._magSq?this._magSq:this.dot(this)}},{key:"mag",value:function(){return this.saveMag&&void 0!==this._mag?this._mag:Math.sqrt(this.magSq())}},{key:"setMag",value:function(t){var e=this.mag();return this.saveMag=!1,this.mult(t/e),this.saveMag=!0,this._mag=t,this._magSq=t*t,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.saveMag&&this._saveMags(),this}},{key:"scaleAdd",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.saveMag&&this._saveMags(),this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.saveMag&&this._saveMags(),this}},{key:"mult",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.saveMag&&(this._magSq*=t*t,this._mag*=t),this}},{key:"multWise",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.saveMag&&this._saveMags(),this}},{key:"div",value:function(t){return this.mult(1/t)}},{key:"normalize",value:function(){if(1!=this.magSq()){var t=this.mag();this.saveMag=!1,this.div(t),this.saveMag=!0,this._mag=1,this._magSq=1}return this}},{key:"reflect",value:function(t){var e=2*this.dot(t);return t.copy().mult(e).sub(this)}},{key:"rotateTowards",value:function(t,e){var n=this.cross(t).cross(this).normalize();return this.copy().setMag(Math.cos(e)).scaleAdd(n,Math.sin(e))}},{key:"refract",value:function(t,e,n){var a=this.cross(t).mag()*e/n;if(a>=1)return null;var i=Math.asin(a);return t.copy().mult(-1).rotateTowards(this,i)}},{key:"cross",value:function(e){return new t(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}},{key:"toString",value:function(){return"["+this.x+", "+this.y+", "+this.z+"]"}},{key:"at",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z}}},{key:"setAt",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e}}}])&&f(e.prototype,n),a&&f(e,a),t}();function d(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}m.sub=function(t,e){return t.copy().sub(e)},m.mult=function(t,e){return t.copy().mult(e)};var v=function(){function t(e,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=new m,this.dir=new m,this.lookAt=new m,this.set(e,n,a),this.dof={},this.setDOF(this.lookAt.copy(),this.dir.copy(),1,1)}var e,n,a;return e=t,(n=[{key:"set",value:function(t,e,n){var a,i;(a=this.lookAt).set.apply(a,d(e)),(i=this.pos).set.apply(i,d(t)),this.dir.set(this.lookAt).sub(this.pos).normalize(),this.right=new m(n).cross(this.dir).normalize(),this.up=this.dir.cross(this.right).normalize()}},{key:"setScreen",value:function(t,e,n){this.width=t,this.width2=t/2,this.height=e,this.height2=e/2,this.fovy=n;var a=Math.tan(n*Math.PI/360);this.vToScreen=this.dir.copy().setMag(this.height2/a).setSaving(!1)}},{key:"dofDistToFocus",value:function(t){var e=m.sub(this.dof.p,t.src);return this.dof.n.dot(e)/this.dof.n.dot(t.dir)}},{key:"modifyRayDOF",value:function(t,e){var n=new m;e.at(this.dofDistToFocus(e),n)&&(e.src.scaleAdd(this.right,this.dof.samples[t][0]).scaleAdd(this.up,this.dof.samples[t][1]),e.dir.set(n).sub(e.src).normalize())}},{key:"setDOF",value:function(t,e,n,a){t&&(this.dof.p=new m(t)),e&&(this.dof.n=new m(e),this.dof.n.normalize()),this.dof.a=n,this.setDOFSamples(Math.max(a,1))}},{key:"setDOFSamples",value:function(t){for(this.dof.samples=[[0,0]];--t>0;)this.dof.samples.push([(Math.random()-.5)*this.dof.a,(Math.random()-.5)*this.dof.a])}},{key:"generateRay",value:function(t,e,n,a){if(t<0||e<0||t>this.width||e>this.height)return!1;t-=this.width2,e=-(e-=this.height2);var i=this.vToScreen.copy();return i.scaleAdd(this.right,t),i.scaleAdd(this.up,e),a.set(this.pos,i),a.resetBounds(),this.modifyRayDOF(n,a),!0}}])&&y(e.prototype,n),a&&y(e,a),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function k(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function x(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(t){var n;if(w(this,e),n=x(this,E(e).call(this)),void 0===t||0==t);else if(t instanceof Array){var a;(a=n).setRGB255.apply(a,b(t))}else n.setRGB255(t,t,t);return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,t),k(e,[{key:"copy",value:function(){return(new e).setV(this)}},{key:"setRGB255",value:function(t,e,n){return this.setRGB(t/255,e/255,n/255)}},{key:"setRGB",value:function(t,e,n){return this.set(t,e,n,!1)}},{key:"limit",value:function(){this.x>1&&(this.x=1),this.y>1&&(this.y=1),this.z>1&&(this.z=1)}},{key:"getFinal",value:function(){return this.limit(),[255*this.x,255*this.y,255*this.z]}}]),e}(m),S=function(){function t(e){w(this,t),this.setDiffuse(e),this.specularEnabled=!1,this.reflectEnabled=!1,this.transparentEnabled=!1}return k(t,[{key:"setDiffuse",value:function(t){this.diffuse=new _(t)}},{key:"setSpecular",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;this.specularEnabled=!0,this.specular=new _(e),this.specExp=t}},{key:"setReflect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:255;this.reflectEnabled=!0,this.reflect=new _(t)}},{key:"setOpacity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:255;this.transparentEnabled=!0,this.opaqueColor=new _(t),this.transColor=this.opaqueColor.copy(),this.transColor.x=1-this.transColor.x,this.transColor.y=1-this.transColor.y,this.transColor.z=1-this.transColor.z}}]),t}(),O=function(){function t(e,n){w(this,t),this.pos=new m(e),this.c=new _(n),this.maxSamples=1}return k(t,[{key:"randomSample",value:function(){return this.pos}}]),t}(),N=function(){function t(e,n,a){w(this,t),this.tri=[new m(e[0]),new m(e[1]),new m(e[2])],this.c=new _(n),this.maxSamples=a||10}return k(t,[{key:"randomSample",value:function(){var t=Math.random(),e=Math.random(),n=Math.sqrt(t),a=new m;return a.scaleAdd(this.tri[0],1-n).scaleAdd(this.tri[1],n*(1-e)).scaleAdd(this.tri[2],n*e),a}}]),t}();function j(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}_.BLACK=new _,_.WHITE=new _(255);var C=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e?(this.src=new m,this.dir=new m):(this.src=e.copy(),this.dir=n.copy()),this.resetBounds(),this.influence=new m(1,1,1)}var e,n,a;return e=t,(n=[{key:"set",value:function(t,e){this.src.setV(t),this.dir.setV(e),this.dir.normalize()}},{key:"setOther",value:function(t){this.src.setV(t.src),this.dir.setV(t.dir),this.setBounds(t.min,t.max),this.influence.setV(t.influence)}},{key:"addInfluence",value:function(t){this.influence.multWise(t)}},{key:"copy",value:function(){var e=new t(this.src,this.dir);return e.setBounds(this.min,this.max),e}},{key:"setMin",value:function(t){this.min=Math.max(0,t)}},{key:"setMax",value:function(t){this.max=Math.max(this.min,t)}},{key:"setBounds",value:function(t,e){this.setMin(t),this.setMax(e)}},{key:"setDepth",value:function(t){this.depth=t}},{key:"resetBounds",value:function(){this.setBounds(1e-5,1/0)}},{key:"at",value:function(t,e){return!(!(e instanceof m)||t<this.min||t>this.max||(e.setV(this.dir).mult(t).add(this.src),0))}},{key:"toString",value:function(){return src.toString()+" "+dir.toString()}}])&&j(e.prototype,n),a&&j(e,a),t}();function T(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.material=null,this.p=new m(0,0,0,!0),this.n=new m(1,0,0,!0),this.reset()}var e,n,a;return e=t,(n=[{key:"setIntersection",value:function(t,e,n,a){this.connects=!0,this.t=t,this.p.setV(e),this.n.setV(n).normalize(),this.material=a}},{key:"setOther",value:function(t){this.setIntersection(t.t,t.p,t.n,t.material)}},{key:"reset",value:function(){this.connects=!1,this.t=1/0}}])&&T(e.prototype,n),a&&T(e,a),t}();function P(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var R=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.materials={},this.lights=[],this.setAmbient([0,0,0]),this.setBG([0,0,0]),this.setSamples(1),this.reflDepth=0,this.lastX=0,this.lastY=0,this.numPixel=0,this.shadowIR=new I,this.pixelColor=new _}var e,n,a;return e=t,(n=[{key:"setSamples",value:function(t){for(this.samples=[[.5,.5]];--t>0;)this.samples.push([Math.random(),Math.random()])}},{key:"setCamera",value:function(t){this.cam=t}},{key:"setRootNode",value:function(t){this.root=t}},{key:"setBG",value:function(t){this.bg=new _(t)}},{key:"setAmbient",value:function(t){this.ambient=new _(t)}},{key:"addLight",value:function(t){this.lights.push(t)}},{key:"addMaterial",value:function(t){this.materials[t.name]=t}},{key:"lighting",value:function(t,e){var n=new C,a=t.dir.reflect(e.n);a.mult(-1);var i=new _,r=new _;if(e.material.transparentEnabled&&t.depth>0){var s=new C(e.p,t.dir),o=new I;s.setDepth(t.depth-1),r.add(e.material.transColor),s.addInfluence(e.material.transColor);var l=1==r.x&&1==r.y&&1==r.z;if(r.multWise(this.getColor(s,o)),l)return r.getFinal()}if(e.material.reflectEnabled&&t.depth>0){var c=new C(e.p,a),u=new I;c.setDepth(t.depth-1),c.addInfluence(e.material.reflect),i.add(this.getColor(c,u)),i.multWise(e.material.reflect)}else i.add(e.material.diffuse),i.multWise(this.ambient);return this.lights.forEach((function(t){for(var r=new _,s=new _,o=new _,l=0;l<t.maxSamples;l++){var c=t.randomSample().copy().sub(e.p),u=c.mag();1!=u&&c.div(u),n.set(e.p,c),n.setBounds(1e-5,u),this.shadowIR.reset();var h=!1;for(o.setV(_.WHITE);this.root.intersects(n,this.shadowIR);){if(!this.shadowIR.material.transparentEnabled){h=!0;break}o.multWise(this.shadowIR.material.transColor),n.setMin(this.shadowIR.t+1e-5),this.shadowIR.reset()}if(!h){var f=Math.max(0,e.n.dot(c));if(!(f<=0)&&(s.setV(e.material.diffuse),s.mult(f),s.multWise(o),r.add(s),e.material.specularEnabled)){if((f=Math.max(0,a.dot(c)))<=0)continue;s.setV(e.material.specular),s.mult(Math.pow(f,e.material.specExp)),s.multWise(o),r.add(s)}}}r.multWise(t.c),r.div(t.maxSamples),i.add(r)}),this),e.material.transparentEnabled&&t.depth>0&&(i.multWise(e.material.opaqueColor),i.add(r)),i.getFinal()}},{key:"getColor",value:function(t,e){return t.influence.x<.01&&t.influence.y<.01&&t.influence.z<.01?_.BLACK:(e.reset(),this.root.intersects(t,e)?new _(this.lighting(t,e)):this.bg)}},{key:"getPixel",value:function(t,e,n,a){this.pixelColor.set(0,0,0,!1);for(var i=this.cam.dof.samples.length,r=this.samples.length,s=0;s<r;s++)for(var o=this.samples[s][0],l=this.samples[s][1],c=0;c<i;c++){if(!this.cam.generateRay(t+o,e+l,c,n))return void console.log("Problem in the code - could not generate camera ray!");n.setDepth(this.reflDepth),this.pixelColor.add(this.getColor(n,a))}return this.pixelColor.div(r*i),this.pixelColor.getFinal()}},{key:"draw",value:function(t,e){var n=new C,a=new I;e.loadPixels();for(var i=e.millis()+t,r=this.lastX,s=this.lastY;e.millis()<i;)if(e.set(r,s,e.color(this.getPixel(r,s,n,a))),r++,this.numPixel++,r==this.cam.width&&(r=0,++s==this.cam.height))return e.updatePixels(),!0;return e.updatePixels(),this.lastX=r,this.lastY=s,!1}}])&&P(e.prototype,n),a&&P(e,a),t}();function z(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var A=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reset()}var e,n,a;return e=t,(n=[{key:"set",value:function(e){return e instanceof t?this.m=e.m.slice():e instanceof Array?this.m=e.slice():e instanceof m&&(this.reset(),this.translate(e)),this}},{key:"reset",value:function(){return this.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},{key:"copy",value:function(){return(new t).set(this)}},{key:"at",value:function(t,e){return this.m[4*t+e]}},{key:"_multEntry",value:function(t,e,n){for(var a=0,i=0;i<4;i++)a+=t.at(e,i)*this.at(i,n);return a}},{key:"multBy",value:function(e){if(e instanceof Array)return this.multBy((new t).set(e));var n=[this._multEntry(e,0,0),this._multEntry(e,0,1),this._multEntry(e,0,2),this._multEntry(e,0,3),this._multEntry(e,1,0),this._multEntry(e,1,1),this._multEntry(e,1,2),this._multEntry(e,1,3),this._multEntry(e,2,0),this._multEntry(e,2,1),this._multEntry(e,2,2),this._multEntry(e,2,3),this._multEntry(e,3,0),this._multEntry(e,3,1),this._multEntry(e,3,2),this._multEntry(e,3,3)];return this.m=n,this}},{key:"translate",value:function(t){return t instanceof m?(this.m[3]+=t.x,this.m[7]+=t.y,this.m[11]+=t.z,this):t instanceof Array?(this.m[3]+=t[0],this.m[7]+=t[1],this.m[11]+=t[2],this):void 0}},{key:"scale",value:function(t){var e,n,a;return t instanceof Array?(e=t[0],n=t[1],a=t[2]):e=n=a=t,this.m[0]*=e,this.m[1]*=e,this.m[2]*=e,this.m[3]*=e,this.m[4]*=n,this.m[5]*=n,this.m[6]*=n,this.m[7]*=n,this.m[8]*=a,this.m[9]*=a,this.m[10]*=a,this.m[11]*=a,this}},{key:"rotateX",value:function(e){var n=new t;e*=Math.PI/180;var a=Math.cos(e),i=Math.sin(e);return n.m[5]=a,n.m[6]=-i,n.m[9]=i,n.m[10]=a,this.multBy(n)}},{key:"rotateY",value:function(e){var n=new t;e*=Math.PI/180;var a=Math.cos(e),i=Math.sin(e);return n.m[0]=a,n.m[2]=i,n.m[8]=-i,n.m[10]=a,this.multBy(n)}},{key:"rotateZ",value:function(e){var n=new t;e*=Math.PI/180;var a=Math.cos(e),i=Math.sin(e);return n.m[0]=a,n.m[1]=-i,n.m[4]=i,n.m[5]=a,this.multBy(n)}},{key:"rotate",value:function(t){return this.rotateX(t.x).rotateY(t.y).rotateZ(t.z)}},{key:"_swap",value:function(t,e){var n=this.m[t];this.m[t]=this.m[e],this.m[e]=n}},{key:"transpose",value:function(){return this._swap(1,4),this._swap(2,8),this._swap(3,12),this._swap(6,9),this._swap(7,13),this._swap(11,14),this}},{key:"inverse",value:function(){var t=this.m,e=[t[5]*t[10]-t[9]*t[6],t[2]*t[9]-t[1]*t[10],t[1]*t[6]-t[2]*t[5],t[6]*t[8]-t[4]*t[10],t[0]*t[10]-t[2]*t[8],t[4]*t[2]-t[0]*t[6],t[4]*t[9]-t[8]*t[5],t[8]*t[1]-t[0]*t[9],t[0]*t[5]-t[4]*t[1]],n=1/(t[0]*e[0]+t[1]*e[3]+t[2]*e[6]),a=[-((e=e.map((function(t){return t*n})))[0]*t[3]+e[1]*t[7]+e[2]*t[11]),-(e[3]*t[3]+e[4]*t[7]+e[5]*t[11]),-(e[6]*t[3]+e[7]*t[7]+e[8]*t[11])];return this.m=[e[0],e[1],e[2],a[0],e[3],e[4],e[5],a[1],e[6],e[7],e[8],a[2],0,0,0,1],this}},{key:"transP",value:function(t){var e=this.m[0]*t.x+this.m[1]*t.y+this.m[2]*t.z+this.m[3],n=this.m[4]*t.x+this.m[5]*t.y+this.m[6]*t.z+this.m[7],a=this.m[8]*t.x+this.m[9]*t.y+this.m[10]*t.z+this.m[11];return t.x=e,t.y=n,t.z=a,t.saveMag&&t._saveMags(),t}},{key:"transV",value:function(t){var e=this.m[0]*t.x+this.m[1]*t.y+this.m[2]*t.z,n=this.m[4]*t.x+this.m[5]*t.y+this.m[6]*t.z,a=this.m[8]*t.x+this.m[9]*t.y+this.m[10]*t.z;return t.x=e,t.y=n,t.z=a,t.saveMag&&t._saveMags(),t}}])&&z(e.prototype,n),a&&z(e,a),t}();function B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function F(t,e,n){return(F=B()?Reflect.construct:function(t,e,n){var a=[null];a.push.apply(a,e);var i=new(Function.bind.apply(t,a));return n&&W(i,n.prototype),i}).apply(null,arguments)}function D(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function H(t,e,n){return e&&Y(t.prototype,e),n&&Y(t,n),t}var X=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new S;G(this,t),this.setMaterial(e)}return H(t,[{key:"intersects",value:function(t,e){return console.log("You did not implement the Intersects method for this object!"),!1}},{key:"setMaterial",value:function(t){this.material=t}}]),t}(),K=function(t){function e(t){var n;return G(this,e),(n=J(this,V(e).call(this))).children=t,n.count=t.length,n.localIR=new I,n}return L(e,t),H(e,[{key:"setBounds",value:function(t){this.bounds=t}},{key:"intersects",value:function(t,e){if(void 0!==this.bounds&&(this.localIR.reset(),!this.bounds.intersects(t,this.localIR)))return!1;for(var n=t.max,a=this.count-1;a>=0;a--)this.localIR.reset(),this.children[a].intersects(t,this.localIR)&&(e.setOther(this.localIR),t.setMax(e.t));return t.setMax(n),e.connects}}]),e}(X),U=function(t){function e(t,n,a,i){var r;return G(this,e),(r=J(this,V(e).call(this))).child=t,r.setMatrix(n,a,i),r.localRay=new C,r}return L(e,t),H(e,[{key:"setMatrix",value:function(t,e,n){this.m=new A,this.m.scale(n).rotate(F(m,D(e))).translate(t),this.mInv=this.m.copy().inverse(),this.mIt=this.mInv.copy().transpose()}},{key:"intersects",value:function(t,e){this.localRay.setOther(t),this.mInv.transP(this.localRay.src),this.mInv.transV(this.localRay.dir);var n=this.localRay.dir.mag();return 1e-5!=this.localRay.min&&(this.localRay.min*=n),this.localRay.max*=n,n=1/n,this.localRay.dir.mult(n),!!this.child.intersects(this.localRay,e)&&(this.m.transP(e.p),this.mIt.transV(e.n),e.t*=n,!0)}}]),e}(X),Z=function(t){function e(t,n){var a;return G(this,e),(a=J(this,V(e).call(this))).c=F(m,D(t)),a.r=n,a}return L(e,t),H(e,[{key:"intersects",value:function(t,e){var n=t.src.x-this.c.x,a=t.src.y-this.c.y,i=t.src.z-this.c.z,r=n*n+a*a+i*i-this.r*this.r,s=t.dir.dotArr(n,a,i),o=s*s-r;if(o<0)return!1;var l=Math.sqrt(o),c=-s-l;return t.at(c,e.p)?(e.setIntersection(c,e.p,m.sub(e.p,this.c),this.material),!0):(c+=2*l,!!t.at(c,e.p)&&(e.setIntersection(c,e.p,m.sub(e.p,this.c),this.material),!0))}}]),e}(X),Q=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return G(this,e),(t=J(this,V(e).call(this))).setAltMaterial(n),t}return L(e,t),H(e,[{key:"setAltMaterial",value:function(t){this.mat2=t}},{key:"intersects",value:function(t,e){if(t.dir.y*t.src.y>=0)return!1;var n=-t.src.y/t.dir.y;if(t.at(n,e.p)){var a=Math.floor(e.p.x)+Math.floor(e.p.z),i=null==this.mat2||(a%2+2)%2<1?this.material:this.mat2,r=t.src.y>0?new m(0,1,0):new m(0,-1,0);return e.setIntersection(n,e.p,r,i),!0}return!1}}]),e}(X),$=function(t){function e(t,n){var a;return G(this,e),(a=J(this,V(e).call(this))).min=F(m,D(t)),a.max=F(m,D(n)),a}return L(e,t),H(e,[{key:"intersects",value:function(t,n){for(var a=t.min,i=t.max,r=null,s=null,o=0;o<3;o++){var l=t.dir.at(o),c=t.src.at(o);if(0==l){if(c<=this.min.at(o)||c>=this.max.at(o))return!1}else{var u=-1;l=1/l;var h=(this.min.at(o)-c)*l,f=(this.max.at(o)-c)*l,m=void 0,d=void 0;h<f?(m=h,d=f,u=1):(m=f,d=h,u=0),a<m&&(a=m,r=2*o+u),i>d&&(i=d,s=2*o+1-u)}if(a>=i)return!1}return a>t.min&&t.at(a,n.p)?(n.setIntersection(a,n.p,e.normals[r],this.material),!0):!!(i<t.max&&t.at(i,n.p))&&(n.setIntersection(i,n.p,e.normals[s],this.material),!0)}}]),e}(X);function tt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}$.normals=[new m(1,0,0),new m(-1,0,0),new m(0,1,0),new m(0,-1,0),new m(0,0,1),new m(0,0,-1)];var et=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=new R,this.refMap={},this.loadScene(e)}var e,n,a;return e=t,(n=[{key:"loadCamera",value:function(t){var e=new v(t.pos,t.lookAt,t.up);return e.setScreen(t.screen.w,t.screen.h,t.fovy),void 0!==t.dof&&e.setDOF(t.dof.point,t.dof.normal,t.dof.aperture,t.dof.samples),e}},{key:"loadMaterial",value:function(t){if("string"==typeof t){if("undefined"===this.scene.materials[t])throw"Material reference to non-existent material!";return this.scene.materials[t]}var e=new S(t.diffuse);return void 0!==t.name&&(e.name=t.name),void 0!==t.specExp&&e.setSpecular(t.specExp,t.specular),void 0!==t.reflect&&(!0===t.reflect?e.setReflect():e.setReflect(t.reflect)),void 0!==t.opacity&&e.setOpacity(t.opacity),e}},{key:"loadLight",value:function(t){var e,n=t.color;switch(null===(e=t.type)||void 0===e?void 0:e.toLowerCase()){case"area":return new N(t.tri,n,t.samples);default:return new O(t.pos,n)}}},{key:"loadInter",value:function(t){if("string"==typeof t){if("undefined"===this.refMap[t])throw"Object reference to non-existent object!";return this.refMap[t]}var e=null;switch(t.type.toLowerCase()){case"plane":e=this.loadPlane(t);break;case"node":e=this.loadNode(t);break;case"sphere":e=this.loadSphere(t);break;case"box":e=this.loadBox(t);break;case"transform":e=this.loadTransform(t);break;default:throw"You did not implement a loader for this object"}return null!==e&&void 0!==t.material&&e.setMaterial(this.loadMaterial(t.material)),null!==e&&void 0!==t.name&&(e.name=t.name,this.refMap[e.name]=e),e}},{key:"loadNode",value:function(t){var e=[];for(var n in t.children)e.push(this.loadInter(t.children[n]));var a=new K(e);return void 0!==t.bounds&&a.setBounds(this.loadInter(t.bounds)),a}},{key:"loadPlane",value:function(t){var e=null;return void 0!==t.mat2&&(e=this.loadMaterial(t.mat2)),new Q(e)}},{key:"loadSphere",value:function(t){return new Z(t.pos||[0,0,0],t.radius||1)}},{key:"loadBox",value:function(t){return new $(t.min,t.max)}},{key:"loadTransform",value:function(t){var e=this.loadInter(t.child),n=t.translate,a=void 0===t.rotate?[0,0,0]:t.rotate,i=void 0===t.scale?1:t.scale;return new U(e,n,a,i)}},{key:"loadScene",value:function(t){if(void 0!==t.samples&&this.scene.setSamples(t.samples),void 0!==t.reflDepth&&(this.scene.reflDepth=t.reflDepth),void 0!==t.ambient&&this.scene.setAmbient(t.ambient),void 0!==t.bg&&this.scene.setBG(t.bg),void 0!==t.lights)for(var e in t.lights)this.scene.addLight(this.loadLight(t.lights[e]));if(void 0!==t.materials)for(var n in t.materials)this.scene.addMaterial(this.loadMaterial(t.materials[n]));this.scene.setCamera(this.loadCamera(t.camera)),this.scene.setRootNode(this.loadInter(t.root))}}])&&tt(e.prototype,n),a&&tt(e,a),t}();var nt=new h.a((function(t){t.preload=function(){t.json=t.loadJSON("/raytracer/scenes/emptyScene.json")},t.setup=function(){t.scene=new et(t.json).scene,console.log(t.scene),t.startTime=t.millis(),t.createCanvas(t.scene.cam.width,t.scene.cam.height).class("mx-auto"),t.frameRate(30),t.loadPixels()},t.draw=function(){t.scene.draw(25,t)&&(console.log("Completed drawing in "+(t.millis()-t.startTime)+" ms."),t.noLoop());var e=(t.millis()-t.startTime)/1e3;t.select("#runtime").html(e.toFixed(1)),t.select("#remtime").html((e*(t.scene.cam.width*t.scene.cam.height/t.scene.numPixel-1)).toFixed(1))},t.drawFrom=function(e){t.noLoop(),delete t.scene,t.scene=new et(e).scene,t.startTime=t.millis(),t.resizeCanvas(t.scene.cam.width,t.scene.cam.height),t.loop()},t.loadAndDraw=function(e){t.loadJSON(e,t.drawFrom)}}),"canvasHolder");function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function st(t,e,n){return e&&rt(t.prototype,e),n&&rt(t,n),t}function ot(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=[{link:"firstSphere",name:"Single Sphere"},{link:"fakeTranslucent",name:"Fake Translucency"},{link:"boxStacks",name:"Stacked Boxes"},{link:"infinite1",name:"Infinite Corridor"},{link:"cornellBox",name:"Cornell Box"},{link:"transparentTest",name:"Weird Transparencies"}],ft=function(t){function e(){return it(this,e),ot(this,lt(e).apply(this,arguments))}return ct(e,t),st(e,[{key:"existingLink",value:function(t){return i.a.createElement("a",{href:"#",className:"list-group-item list-group-item-action",key:t.link,onClick:function(e){e.preventDefault(),fetch("/raytracer/scenes/"+t.link+".json").then((function(t){return t.text()})).then((function(t){c()("#inputJSON").val(t),c()("#sceneTab").click()}))}},t.name)}},{key:"render",value:function(){return i.a.createElement("div",{id:"start",className:"tab-pane container-fluid active"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h5",null,"New Scene or Existing"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement("a",{className:"btn btn-primary",href:"#",onClick:function(t){t.preventDefault(),c()("#sceneTab").click()}},"New Scene")),i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"list-group"},ht.map(this.existingLink)))))}}]),e}(i.a.Component),mt=(i.a.Component,function(t){function e(){return it(this,e),ot(this,lt(e).apply(this,arguments))}return ct(e,t),st(e,[{key:"render",value:function(){return i.a.createElement(o.a,null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h1",null," Ray Tracer - v","1.2.0"," "),i.a.createElement("h3",null," Created by Ivan Miloslavov; based on designs by Paul Kry "),i.a.createElement("p",{className:"desc"},"This program allows you to try ray-tracing in the browser! Test out existing scenes or create your own."),i.a.createElement("p",{className:"desc"},"Based on a design and lectures by Paul Kry, as part of the course COMP 557 - Introduction to Computer Graphics, in McGill University."),i.a.createElement("p",{className:"desc"},"Future versions may change the UI to make scenes without JSON, attempt to include multithreading via workers or add new render technology or objects. For now, the JSON documentation is ",i.a.createElement("a",{href:"docs",target:"_blank"},"here"),"."))),i.a.createElement("div",{className:"modal fade",id:"badJsonModal"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title"},"Bad JSON detected!"),i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},i.a.createElement("span",null,"×"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("p",null,"Your JSON was not correctly parsed. Make sure it's well formed!"))))),i.a.createElement("div",{className:"modal fade",id:"missingJsonModal"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title"},"Not enough JSON detected!"),i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},i.a.createElement("span",null,"×"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("p",null,"Your JSON might be missing mandatory keys. Make sure to follow the documentation and check the console!"))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("ul",{className:"nav nav-tabs"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link active","data-toggle":"tab",href:"#start"},"Start")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#scene",id:"sceneTab"},"JSON")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#render"},"Render"))))),i.a.createElement("div",{className:"tab-content text-center"},i.a.createElement(ft,null),i.a.createElement("div",{id:"scene",className:"tab-pane container-fluid"},i.a.createElement("h5",null,"Place JSON here"),i.a.createElement("textarea",{id:"inputJSON",cols:"80",rows:"20",style:{fontFamily:"monospace"}})),i.a.createElement("div",{id:"render",className:"tab-pane container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-4"},"Running time (s): ",i.a.createElement("span",{id:"runtime"})),i.a.createElement("div",{className:"col-4"},i.a.createElement("button",{id:"startRender",className:"btn btn-success mx-auto",onClick:function(){try{var t=c()("#inputJSON").val();nt.drawFrom(JSON.parse(t))}catch(t){if("SyntaxError"!=t.name)throw c()("#missingJsonModal").modal("show"),t;c()("#badJsonModal").modal("show")}}},"Start Render")),i.a.createElement("div",{className:"col-4"},"Remaining time (s): ",i.a.createElement("span",{id:"remtime"}))),i.a.createElement("div",{className:"row my-5",id:"canvasHolder"}))))}}]),e}(i.a.Component));document.getElementById("root")&&s.a.render(i.a.createElement(mt,null),document.getElementById("root")),window.p5=nt},3:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(0),i=n.n(a);function r(t){return i.a.createElement("div",{id:"react-root"},i.a.createElement("nav",{className:"navbar bg-dark navbar-dark fixed-top navbar-expand-md"},i.a.createElement("a",{className:"navbar-brand",href:"#"},"Ivan M"),i.a.createElement("ul",{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/"},"Home")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/orbitsim"},"Space Elevator")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/raytracer"},"Ray Tracer")))),i.a.createElement("div",{className:"container-fluid",style:{marginTop:"80px"}},t.children))}},5:function(t,e,n){"use strict";var a,i,r,s,o;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(t){throw setTimeout(u,0),t}},h=Date.now();e.unstable_now=function(){return Date.now()-h},a=function(t){null!==l?setTimeout(a,0,t):(l=t,setTimeout(u,0))},i=function(t,e){c=setTimeout(t,e)},r=function(){clearTimeout(c)},s=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,m=window.Date,d=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)e.unstable_now=function(){return f.now()};else{var p=m.now();e.unstable_now=function(){return m.now()-p}}var b=!1,w=null,g=-1,k=5,x=0;s=function(){return e.unstable_now()>=x},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<t?Math.floor(1e3/t):5};var E=new MessageChannel,M=E.port2;E.port1.onmessage=function(){if(null!==w){var t=e.unstable_now();x=t+k;try{w(!0,t)?M.postMessage(null):(b=!1,w=null)}catch(t){throw M.postMessage(null),t}}else b=!1},a=function(t){w=t,b||(b=!0,M.postMessage(null))},i=function(t,n){g=d((function(){t(e.unstable_now())}),n)},r=function(){y(g),g=-1}}function _(t,e){var n=t.length;t.push(e);t:for(;;){var a=n-1>>>1,i=t[a];if(!(void 0!==i&&0<N(i,e)))break t;t[a]=e,t[n]=i,n=a}}function S(t){return void 0===(t=t[0])?null:t}function O(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var a=0,i=t.length;a<i;){var r=2*(a+1)-1,s=t[r],o=r+1,l=t[o];if(void 0!==s&&0>N(s,n))void 0!==l&&0>N(l,s)?(t[a]=l,t[o]=n,a=o):(t[a]=s,t[r]=n,a=r);else{if(!(void 0!==l&&0>N(l,n)))break t;t[a]=l,t[o]=n,a=o}}}return e}return null}function N(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var j=[],C=[],T=1,I=null,P=3,R=!1,z=!1,A=!1;function B(t){for(var e=S(C);null!==e;){if(null===e.callback)O(C);else{if(!(e.startTime<=t))break;O(C),e.sortIndex=e.expirationTime,_(j,e)}e=S(C)}}function F(t){if(A=!1,B(t),!z)if(null!==S(j))z=!0,a(D);else{var e=S(C);null!==e&&i(F,e.startTime-t)}}function D(t,n){z=!1,A&&(A=!1,r()),R=!0;var a=P;try{for(B(n),I=S(j);null!==I&&(!(I.expirationTime>n)||t&&!s());){var o=I.callback;if(null!==o){I.callback=null,P=I.priorityLevel;var l=o(I.expirationTime<=n);n=e.unstable_now(),"function"==typeof l?I.callback=l:I===S(j)&&O(j),B(n)}else O(j);I=S(j)}if(null!==I)var c=!0;else{var u=S(C);null!==u&&i(F,u.startTime-n),c=!1}return c}finally{I=null,P=a,R=!1}}function q(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var J=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){z||R||(z=!0,a(D))},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return S(j)},e.unstable_next=function(t){switch(P){case 1:case 2:case 3:var e=3;break;default:e=P}var n=P;P=e;try{return t()}finally{P=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=J,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=P;P=t;try{return e()}finally{P=n}},e.unstable_scheduleCallback=function(t,n,s){var o=e.unstable_now();if("object"==typeof s&&null!==s){var l=s.delay;l="number"==typeof l&&0<l?o+l:o,s="number"==typeof s.timeout?s.timeout:q(t)}else s=q(t),l=o;return t={id:T++,callback:n,priorityLevel:t,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>o?(t.sortIndex=l,_(C,t),null===S(j)&&t===S(C)&&(A?r():A=!0,i(F,l-o))):(t.sortIndex=s,_(j,t),z||R||(z=!0,a(D))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();B(t);var n=S(j);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<I.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=P;return function(){var n=P;P=e;try{return t.apply(this,arguments)}finally{P=n}}}},6:function(t,e,n){"use strict";var a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(t){a[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,o,l=s(t),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(a){o=a(n);for(var h=0;h<o.length;h++)r.call(n,o[h])&&(l[o[h]]=n[o[h]])}}return l}},7:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},8:function(t,e,n){"use strict";t.exports=n(5)}},[[17,0,1]]]);