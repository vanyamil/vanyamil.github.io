(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),i=a.n(n);function r(e){return i.a.createElement("div",{id:"react-root"},i.a.createElement("nav",{className:"navbar bg-dark navbar-dark fixed-top navbar-expand-md"},i.a.createElement("a",{className:"navbar-brand",href:"#"},"Ivan M"),i.a.createElement("ul",{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/"},"Home")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/orbitsim"},"Space Elevator")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/raytracer"},"Ray Tracer")))),i.a.createElement("div",{className:"container-fluid",style:{marginTop:"80px"}},e.children))}},,function(e,t,a){"use strict";var n,i,r,o,l;if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,s=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(u,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(u,0))},i=function(e,t){s=setTimeout(e,t)},r=function(){clearTimeout(s)},o=function(){return!1},l=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,m=window.Date,f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var y=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var v=m.now();t.unstable_now=function(){return m.now()-v}}var b=!1,g=null,E=-1,w=5,_=0;o=function(){return t.unstable_now()>=_},l=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,T=k.port2;k.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();_=e+w;try{g(!0,e)?T.postMessage(null):(b=!1,g=null)}catch(e){throw T.postMessage(null),e}}else b=!1},n=function(e){g=e,b||(b=!0,T.postMessage(null))},i=function(e,a){E=f((function(){e(t.unstable_now())}),a)},r=function(){d(E),E=-1}}function x(e,t){var a=e.length;e.push(t);e:for(;;){var n=a-1>>>1,i=e[n];if(!(void 0!==i&&0<I(i,t)))break e;e[n]=t,e[a]=i,a=n}}function O(e){return void 0===(e=e[0])?null:e}function N(e){var t=e[0];if(void 0!==t){var a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,i=e.length;n<i;){var r=2*(n+1)-1,o=e[r],l=r+1,c=e[l];if(void 0!==o&&0>I(o,a))void 0!==c&&0>I(c,o)?(e[n]=c,e[l]=a,n=l):(e[n]=o,e[r]=a,n=r);else{if(!(void 0!==c&&0>I(c,a)))break e;e[n]=c,e[l]=a,n=l}}}return t}return null}function I(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}var C=[],S=[],M=1,P=null,A=3,j=!1,L=!1,R=!1;function D(e){for(var t=O(S);null!==t;){if(null===t.callback)N(S);else{if(!(t.startTime<=e))break;N(S),t.sortIndex=t.expirationTime,x(C,t)}t=O(S)}}function U(e){if(R=!1,D(e),!L)if(null!==O(C))L=!0,n(V);else{var t=O(S);null!==t&&i(U,t.startTime-e)}}function V(e,a){L=!1,R&&(R=!1,r()),j=!0;var n=A;try{for(D(a),P=O(C);null!==P&&(!(P.expirationTime>a)||e&&!o());){var l=P.callback;if(null!==l){P.callback=null,A=P.priorityLevel;var c=l(P.expirationTime<=a);a=t.unstable_now(),"function"==typeof c?P.callback=c:P===O(C)&&N(C),D(a)}else N(C);P=O(C)}if(null!==P)var s=!0;else{var u=O(S);null!==u&&i(U,u.startTime-a),s=!1}return s}finally{P=null,A=n,j=!1}}function Z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=l;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||j||(L=!0,n(V))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return O(C)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var a=A;A=t;try{return e()}finally{A=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=A;A=e;try{return t()}finally{A=a}},t.unstable_scheduleCallback=function(e,a,o){var l=t.unstable_now();if("object"==typeof o&&null!==o){var c=o.delay;c="number"==typeof c&&0<c?l+c:l,o="number"==typeof o.timeout?o.timeout:Z(e)}else o=Z(e),c=l;return e={id:M++,callback:a,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>l?(e.sortIndex=c,x(S,e),null===O(C)&&e===O(S)&&(R?r():R=!0,i(U,c-l))):(e.sortIndex=o,x(C,e),L||j||(L=!0,n(V))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var a=O(C);return a!==P&&null!==P&&null!==a&&null!==a.callback&&a.startTime<=e&&a.expirationTime<P.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=A;return function(){var a=A;A=t;try{return e.apply(this,arguments)}finally{A=a}}}},function(e,t,a){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,l,c=o(e),s=1;s<arguments.length;s++){for(var u in a=Object(arguments[s]))i.call(a,u)&&(c[u]=a[u]);if(n){l=n(a);for(var h=0;h<l.length;h++)r.call(a,l[h])&&(c[l[h]]=a[l[h]])}}return c}},function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){"use strict";e.exports=a(5)},,,,,,,function(e,t,a){e.exports=a(21)},,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return se}));var n=a(0),i=a.n(n),r=a(4),o=a.n(r),l=a(3),c=a(1),s=a.n(c);a(16);function u(e){return e>0?1:-1}function h(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-4,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3,r=a,o=a+2*n,l=0;l<i&&Math.abs(o-r)>n;)o=r,r-=e(r)/t(r),l++;return r}function p(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}s.a.prototype.translateV=function(e){return this.translate(e.x,e.y,e.z)},s.a.prototype.draw_wrapper=function(e,t,a){this.push(),this.translateV(e),this.fill(t),a(),this.pop()},s.a.prototype.cameraV=function(e,t,a){this.camera(e.x,e.y,e.z,t.x,t.y,t.z,a.x,a.y,a.z)},s.a.Vector.prototype.rotateZ=function(e){var t=Math.cos(e),a=Math.sin(e),n=this.x,i=this.y;return this.x=t*n-a*i,this.y=a*n+t*i,this},s.a.Vector.prototype.rotateX=function(e){var t=Math.cos(e),a=Math.sin(e),n=this.y,i=this.z;return this.y=t*n-a*i,this.z=a*n+t*i,this},s.a.Vector.units={x:new s.a.Vector(1,0,0),y:new s.a.Vector(0,1,0),z:new s.a.Vector(0,0,1)},s.a.Vector.prototype.addMag=function(e){return this.setMag(this.mag()+e)};var m=2*Math.PI,f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,n;return t=e,n=[{key:"update",value:function(t){e.rotation=e.OMEGA*t.total%m}},{key:"G",get:function(){return 667384e-16}},{key:"MASS",get:function(){return 597219e19}},{key:"PERIOD",get:function(){return 86164.1}},{key:"MU",get:function(){return e.G*e.MASS}},{key:"OMEGA",get:function(){return 2*Math.PI/e.PERIOD}},{key:"GEO_RADIUS",get:function(){return 42164e3}},{key:"RADIUS",get:function(){return 6378137}},{key:"CRITHEIGHT",get:function(){return Math.cbrt(2*e.MU/Math.pow(e.OMEGA,2))-e.RADIUS}},{key:"IMAGE",get:function(){return e._img},set:function(t){e._img=t}},{key:"SOI",get:function(){return 25e8}}],(a=null)&&p(t.prototype,a),n&&p(t,n),e}();function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}f.rotation=0;var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,n;return t=e,n=[{key:"setLonLat",value:function(e,t){var a=Math.PI/180;this._longitude=a*(180+e),this._latitude=a*t}},{key:"LENGTH",get:function(){return 1e8}},{key:"WIDTH",get:function(){return 3e5}},{key:"COLOR",get:function(){return"lightgrey"}},{key:"GEO_WIDTH",get:function(){return 5e5}},{key:"GEO_COLOR",get:function(){return"#6D5086"}},{key:"COUNTER_WIDTH",get:function(){return 1e6}},{key:"COUNTER_COLOR",get:function(){return"#22339F"}},{key:"LONGITUDE",get:function(){return this._longitude}},{key:"LATITUDE",get:function(){return this._latitude}},{key:"true_bottom",get:function(){return s.a.prototype.createVector(0,f.RADIUS,0).rotateX(this.LATITUDE).rotateZ(f.rotation).rotateZ(this.LONGITUDE)}},{key:"true_top",get:function(){return s.a.prototype.createVector(0,f.RADIUS+this.LENGTH,0).rotateX(this.LATITUDE).rotateZ(f.rotation).rotateZ(this.LONGITUDE)}}],(a=null)&&d(t.prototype,a),n&&d(t,n),e}();function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}y.setLonLat(-90,0);var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=t.true_position.rotateZ(-f.rotation).setMag(f.RADIUS);this.position=a}var t,a,n;return t=e,(a=[{key:"true_position",get:function(){return this.position.copy().rotateZ(f.rotation)}}])&&v(t.prototype,a),n&&v(t,n),e}();function g(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t,a){return t&&g(e.prototype,t),a&&g(e,a),e}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.active=!0,this.contained=!0,this.impacted=!1}return E(e,null,[{key:"ACTIVE_COLOR",get:function(){return"yellow"}},{key:"INACTIVE_COLOR",get:function(){return"cyan"}},{key:"IMPACT_COLOR",get:function(){return"#ff8d00"}},{key:"SIZE",get:function(){return 7e5}}]),E(e,[{key:"update",value:function(e){this.contained||this.impacted||(this.container.update(e),this.container.altitude<0&&(this.impacted=!0,this.container=new b(this.container)))}},{key:"position",get:function(){return this.container.position}},{key:"true_position",get:function(){return this.container.true_position}},{key:"color",get:function(){return this.impacted?e.IMPACT_COLOR:this.active?e.ACTIVE_COLOR:e.INACTIVE_COLOR}}]),e}();function _(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,a){return t&&_(e.prototype,t),a&&_(e,a),e}var T=function(){function e(t,a,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.epoch={pos:t,vel:a,time:n},this._position=t.copy(),this.marks=[],this.setup()}return k(e,null,[{key:"EPSILON",get:function(){return 1e-4}}]),k(e,[{key:"setup",value:function(){this.momentum=s.a.Vector.cross(this.epoch.pos,this.epoch.vel),this.eccentricity=s.a.Vector.cross(this.epoch.vel,this.momentum).div(f.MU).sub(this.epoch.pos.copy().normalize()),this.semi_latus=this.momentum.magSq()/f.MU,this.semi_major=this.semi_latus/(1-Math.pow(this.e,2)),this.period=s.a.prototype.TAU*Math.sqrt(u(this.semi_major)*Math.pow(this.semi_major,3)/f.MU);var e=s.a.Vector.units.z.cross(this.momentum).normalize(),t=e.heading(),a=s.a.Vector.units.z.angleBetween(this.momentum),n=void 0;n=e.equals(s.a.prototype.createVector())?u(this.momentum.z)*this.eccentricity.heading():u(this.eccentricity.z)*e.angleBetween(this.eccentricity),this.eulers={longitude:t,inclination:a,argument:n};var i=s.a.Matrix.identity();if(i.rotateZ(-this.eulers.argument),i.rotateX(-this.eulers.inclination),i.rotateZ(-this.eulers.longitude),this.matrix=i.mat4,this.elliptical){var r=u(this.epoch.pos.dot(this.epoch.vel))*this.eccentricity.angleBetween(this.epoch.pos),o=Math.atan2(Math.sqrt(1-Math.pow(this.e,2))*Math.sin(r),this.e+Math.cos(r));this.mean_at_epoch=o-this.e*Math.sin(o)}else this.mean_at_epoch=0;this.flight_time=0,this.last_true_anomaly=Math.PI}},{key:"update",value:function(t){var a=this;if(!this.left_earth&&t.running){this.flight_time=t.total-this.epoch.time;var n,i=this.mean_at_epoch+this.flight_time*s.a.prototype.TAU/this.period;if(this.elliptical){var r=h((function(e){return e-a.e*Math.sin(e)-i}),(function(e){return 1-a.e*Math.cos(e)}),this.last_true_anomaly,e.EPSILON);n=2*Math.atan2(Math.sqrt(1+this.e)*Math.sin(r/2),Math.sqrt(1-this.e)*Math.cos(r/2))}else{var o=h((function(e){return a.e*Math.sinh(e)-e-i}),(function(e){return a.e*Math.cosh(e)-1}),this.last_true_anomaly,e.EPSILON);n=2*Math.atan2(Math.sqrt(this.e+1)*Math.sinh(o/2),Math.sqrt(this.e-1)*Math.cosh(o/2))}this.last_true_anomaly=n;var l=this.altitudeAt(n);this._position=s.a.prototype.createVector(l,0,0).rotateZ(n),this.marks.length==e.NUM_MARKS&&this.marks.shift(),this.marks.push(this.position)}}},{key:"altitudeAt",value:function(e){return this.semi_latus/(1+this.e*Math.cos(e))}},{key:"e",get:function(){return this.eccentricity.mag()}},{key:"elliptical",get:function(){return this.semi_major>0}},{key:"left_earth",get:function(){return this.position.mag()>f.SOI}},{key:"position",get:function(){return this._position.copy()}},{key:"true_position",get:function(){var e=this.position;return s.a.prototype.createVector(this.matrix[0]*e.x+this.matrix[1]*e.y+this.matrix[2]*e.z,this.matrix[4]*e.x+this.matrix[5]*e.y+this.matrix[6]*e.z,this.matrix[8]*e.x+this.matrix[9]*e.y+this.matrix[10]*e.z)}},{key:"altitude",get:function(){return this.position.mag()-f.RADIUS}},{key:"dayPeriod",get:function(){return this.period/f.PERIOD}}]),e}();function x(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}T.NUM_MARKS=100;var O=function(){function e(t,a,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===r&&(r=1),this.launchTime=t,this.totalTime=a,this.startHeight=n,this.endHeight=i;var o=2+1/r;this.climbTime=a/o,this.constantTime=this.climbTime*r,this.maxVelocity=(i-n)/(a*(o-1)/o)}var t,a,n;return t=e,(a=[{key:"isMoving",value:function(e){return e<this.arrivalTime}},{key:"altitude",value:function(e){if(!this.isMoving(e))return this.endHeight;if((e-=this.launchTime)<this.climbTime){var t=Math.sin(Math.PI*e/this.climbTime),a=.5*this.maxVelocity*(e-this.climbTime/Math.PI*t);return this.startHeight+a}if(e<this.constantTime+this.climbTime){var n=this.maxVelocity*(e-this.climbTime/2);return this.startHeight+n}var i=Math.sin(Math.PI*(e-this.constantTime)/this.climbTime),r=.5*this.maxVelocity*(e+this.constantTime-this.climbTime/Math.PI*i);return this.startHeight+r}},{key:"arrivalTime",get:function(){return this.launchTime+this.totalTime}}])&&x(t.prototype,a),n&&x(t,n),e}();function N(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t,a){return t&&N(e.prototype,t),a&&N(e,a),e}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.height=t||0,this.active=!0,this.payload=new w(this),this.profile=null}return I(e,null,[{key:"ACTIVE_COLOR",get:function(){return[255,0,0,200]}},{key:"INACTIVE_COLOR",get:function(){return[128,128,128,100]}},{key:"SIZE",get:function(){return 2e6}}]),I(e,[{key:"launch",value:function(e,t,a,n){this.profile=new O(e,t,a,n)}},{key:"update",value:function(e){null!=this.profile&&(this.profile.isMoving(e.total)?this.height=this.profile.altitude(e.total):this.payload.contained&&(console.log("Payload released!"),this.release(this.profile.arrivalTime),this.profile=null))}},{key:"release",value:function(e){var t=s.a.Vector.cross(s.a.prototype.createVector(0,0,1),this.true_position).setMag(f.OMEGA*this.position.y);this.payload.container=new T(this.true_position,t,e),this.payload.contained=!1}},{key:"position",get:function(){return s.a.prototype.createVector(0,this.height+f.RADIUS,0)}},{key:"true_position",get:function(){return this.position.copy().rotateX(y.LATITUDE).rotateZ(f.rotation).rotateZ(y.LONGITUDE)}},{key:"color",get:function(){return this.active?e.ACTIVE_COLOR:e.INACTIVE_COLOR}},{key:"has_payload",get:function(){return this.payload.contained}}]),e}();function S(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.totalTime=0,this.previousTime=0,this.lastFrame=void 0,this.running=!1,this.scale=1}var t,a,n;return t=e,(a=[{key:"update",value:function(e){this.lastFrame=e-this.previousTime,this.running&&(this.totalTime+=this.scaledFrame),this.previousTime=e}},{key:"toggle",value:function(){this.running=!this.running}},{key:"total",get:function(){return this.totalTime}},{key:"frame",get:function(){return this.lastFrame}},{key:"scaledFrame",get:function(){return this.scale*this.lastFrame}}])&&S(t.prototype,a),n&&S(t,n),e}();f.draw=function(e){e.push(),e.scale(1,-1,1),e.rotateZ(-f.rotation),e.rotateZ(-e.PI),e.rotateX(-e.PI/2),e.fill("lightgreen"),e.texture(f.IMAGE),e.sphere(f.RADIUS),e.pop()},y.draw=function(e,t,a){e.push(),e.rotateZ(f.rotation),e.rotateZ(y.LONGITUDE),e.rotateX(y.LATITUDE);var n=y.true_bottom.dist(t),i=y.true_top.dist(t),r=Math.max(n,i)/3e8;a&&(r/=10);var o=y.WIDTH*r;e.draw_wrapper(e.createVector(0,(y.LENGTH+f.RADIUS)/2,0),y.COLOR,(function(){return e.cylinder(o,y.LENGTH+f.RADIUS)})),e.draw_wrapper(e.createVector(0,f.GEO_RADIUS,0),y.GEO_COLOR,(function(){return e.sphere(y.GEO_WIDTH)})),e.draw_wrapper(e.createVector(0,y.LENGTH+f.RADIUS,0),y.COUNTER_COLOR,(function(){return e.sphere(y.COUNTER_WIDTH)})),e.pop()},C.prototype.draw=function(e){e.push(),e.rotateZ(f.rotation),e.rotateZ(y.LONGITUDE),e.rotateX(y.LATITUDE),e.draw_wrapper(this.position,this.color,(function(){return e.box(C.SIZE)})),e.pop()},w.prototype.draw=function(e){var t=this;if(e.push(),this.impacted)e.rotateZ(f.rotation);else if(this.contained)e.rotateZ(f.rotation),e.rotateZ(y.LONGITUDE),e.rotateX(y.LATITUDE);else if(e.rotateZ(this.container.eulers.longitude),e.rotateX(this.container.eulers.inclination),e.rotateZ(this.container.eulers.argument),!this.impacted&&null==e.getTracked()){var a=2*this.container.marks.length;this.container.marks.forEach((function(t,n){return e.draw_wrapper(t,"orange",(function(){return e.sphere(w.SIZE*n/a)}))}))}e.draw_wrapper(this.position,this.color,(function(){return e.sphere(t.impacted?w.SIZE/10:w.SIZE)})),e.pop()};var P=a(2),A=a.n(P);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=R(t).call(this,e))||"object"!==j(i)&&"function"!=typeof i?D(n):i).state={height:35e3,tta:10},a.handleTTAChange=a.handleTTAChange.bind(D(a)),a.handleHeightChange=a.handleHeightChange.bind(D(a)),a.handleSubmit=a.handleSubmit.bind(D(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,e),a=t,(n=[{key:"handleHeightChange",value:function(e){this.setState({height:Math.max(Math.min(e.target.value,1e5),5e3)})}},{key:"handleTTAChange",value:function(e){this.setState({tta:Math.max(.01,e.target.value)})}},{key:"handleSubmit",value:function(){this.props.onLaunch(this.state.height,this.state.tta)}},{key:"render",value:function(){var e=null!==this.props.active,t=e?this.props.climbers[this.props.active]:null,a={maxWidth:"70%"};return i.a.createElement("div",{className:"card h-xl-100",id:"climber-panel"},i.a.createElement("div",{className:"card-header"},"Climbers"),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-3 px-0"},i.a.createElement("button",{id:"prev-climber",className:"btn btn-secondary",onClick:this.props.onLeft},i.a.createElement("i",{className:"fas fa-arrow-left"}))),i.a.createElement("div",{className:"col-3 px-0"},i.a.createElement("button",{id:"add-climber",className:"btn btn-success",onClick:this.props.onAdd},i.a.createElement("i",{className:"fas fa-plus"}))),i.a.createElement("div",{className:"col-3 px-0"},i.a.createElement("button",{id:"delete-climber",className:"btn btn-danger",onClick:this.props.onDelete},i.a.createElement("i",{className:"fas fa-minus"}))),i.a.createElement("div",{className:"col-3 px-0"},i.a.createElement("button",{id:"next-climber",className:"btn btn-secondary",onClick:this.props.onRight},i.a.createElement("i",{className:"fas fa-arrow-right"})))),i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-4 px-0 text-left"},"Height (km):"),i.a.createElement("div",{className:"col-8 px-0 text-right"},e?Math.round(t.height/1e3):"N/A")),i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-4 px-0 text-left"},"Target (km):"),i.a.createElement("div",{className:"col-8 px-0 text-right"},i.a.createElement("input",{type:"number",min:"5000",max:"100000",value:this.state.height,style:a,onChange:this.handleHeightChange}))),i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-4 px-0 text-left"},"TTA (days):"),i.a.createElement("div",{className:"col-8 px-0 text-right"},i.a.createElement("input",{type:"number",min:"0.01",step:"0.01",value:this.state.tta,style:a,onChange:this.handleTTAChange}))),i.a.createElement("div",{className:"row py-2"},i.a.createElement("div",{className:"col-6 px-1"},i.a.createElement("button",{id:"track-climber",className:"btn btn-info btn-sm w-100",onClick:this.props.onTrack}," Track ")),i.a.createElement("div",{className:"col-6 px-1"},i.a.createElement("button",{id:"launch-climber",className:"btn btn-warning btn-sm w-100",onClick:this.handleSubmit}," Launch ")))))}}])&&L(a.prototype,n),r&&L(a,r),t}(n.Component);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(){return G(this,t),F(this,z(t).apply(this,arguments))}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),a=t,(n=[{key:"render",value:function(){var e=null!==this.props.active,t=e?this.props.payloads[this.props.active]:null,a=e&&t.contained,n=e&&t.impacted,r=e&&!t.contained&&t.container.left_earth;return i.a.createElement("div",{className:"card h-xl-100",id:"payload-panel"},i.a.createElement("div",{className:"card-header"},"Payloads"),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-3 px-0"},i.a.createElement("button",{id:"prev-payload",className:"btn btn-secondary",onClick:this.props.onLeft},i.a.createElement("i",{className:"fas fa-arrow-left"}))),i.a.createElement("div",{className:"col-6 px-0"},i.a.createElement("button",{id:"track-climber",className:"btn btn-info w-100",onClick:this.props.onTrack}," Track ")),i.a.createElement("div",{className:"col-3 px-0"},i.a.createElement("button",{id:"next-payload",className:"btn btn-secondary",onClick:this.props.onRight},i.a.createElement("i",{className:"fas fa-arrow-right"})))),t?n?i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-12 px-0"},"Payload destroyed")):r?i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-12 px-0"},"Payload left Earth's SOI")):a?i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-6 px-0 text-left small"},"Height (km):"),i.a.createElement("div",{className:"col-6 px-0 text-right"},Math.round(t.container.height/1e3))):i.a.createElement("div",null,i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-6 px-0 text-left small"},"Semi-major (km):"),i.a.createElement("div",{className:"col-6 px-0 text-right"},Math.round(t.container.semi_major/1e3))),i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-6 px-0 text-left small"},"Eccentricity:"),i.a.createElement("div",{className:"col-6 px-0 text-right"},t.container.e.toFixed(4))),i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-6 px-0 text-left small"},"Period (days):"),i.a.createElement("div",{className:"col-6 px-0 text-right"},t.container.dayPeriod.toFixed(2))),i.a.createElement("div",{className:"row py-2 px-1"},i.a.createElement("div",{className:"col-6 px-0 text-left small"},"Altitude (km):"),i.a.createElement("div",{className:"col-6 px-0 text-right"},(t.container.altitude/1e3).toFixed(2)))):null))}}])&&H(a.prototype,n),r&&H(a,r),t}(n.Component);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(){return B(this,t),J(this,Y(t).apply(this,arguments))}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,e),a=t,(n=[{key:"render",value:function(){var e=this.props.running,t=null===this.props.tracking?"Nothing":"c"==this.props.tracking[0]?"Climber "+this.props.tracking.substr(1):"Payload "+this.props.tracking.substr(1);return i.a.createElement("div",{className:"card h-100",id:"sim_card"},i.a.createElement("div",{className:"card-header"},i.a.createElement("a",{href:"#sim_card"},"Simulation")),i.a.createElement("div",{className:"card-body",id:"sketch-holder",style:{position:"relative",padding:0,height:"calc(100% - 50px)"}},i.a.createElement("div",{style:{position:"absolute",left:"15px",top:"15px",color:"white",textAlign:"left"}},"Elapsed time: ",this.props.time," days",i.a.createElement("br",null),"Time scale :",i.a.createElement("input",{type:"number",min:"1",max:"10",step:"0.1",value:this.props.scale,style:{marginLeft:"5px",marginRight:"5px"},onChange:this.props.onScaleAdjust}),"hours/s",i.a.createElement("br",null),"Currently tracking ",t),i.a.createElement("button",{className:"btn btn-primary",style:{position:"absolute",left:"50%",top:"10px",marginLeft:"-20px"},onClick:this.props.onPlayPause},i.a.createElement("i",{className:"fas "+(e?"fa-pause":"fa-play")})),i.a.createElement("button",{className:"btn btn-primary",style:{position:"absolute",right:"15px",top:"10px"},onClick:this.props.onUntrack},i.a.createElement("i",{className:"fas fa-camera"}))))}}])&&K(a.prototype,n),r&&K(a,r),t}(n.Component);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re,oe=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(i=ae(t).call(this,e))||"object"!==ee(i)&&"function"!=typeof i?ne(n):i).props.register(ne(a)),a.state={running:!1,climbers:[],payloads:[],active_climber:null,active_payload:null,time_scale:5},a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,e),a=t,(n=[{key:"onPlayPause",value:function(){this.setState((function(e,t){return t.p5.toggleTimer(),{running:!e.running}}))}},{key:"onScaleAdjust",value:function(e){var t=e.target.value;this.setState((function(e,a){return a.p5.updateTimeScale(t),{time_scale:t}}))}},{key:"onClimberAdd",value:function(){this.setState((function(e,t){var a=new C(0);e.climbers.forEach((function(e){return e.active=!1})),e.payloads.forEach((function(e){return e.active=!1}));var n=e.climbers.concat(a),i=e.payloads.concat(a.payload);return t.p5.climbers=n,t.p5.payloads=i,{climbers:n,payloads:i,active_climber:n.length-1,active_payload:i.length-1}}))}},{key:"onClimberDelete",value:function(){this.setState((function(e,t){var a={};if(null===e.active_climber)return a;if(e.climbers[e.active_climber].payload.contained){e.payloads[e.active_payload].active=!1;var n=e.payloads.indexOf(e.climbers[e.active_climber].payload);e.payloads.splice(n,1),a.payloads=e.payloads,a.active_payload=0==a.payloads.length?null:e.active_payload==a.payloads.length?0:e.active_payload,a.payloads.length>0&&(a.payloads[a.active_payload].active=!0),t.p5.payloads=a.payloads}return e.climbers.splice(e.active_climber,1),a.climbers=e.climbers,a.active_climber=0==a.climbers.length?null:e.active_climber==a.climbers.length?0:e.active_climber,a.climbers.length>0&&(a.climbers[a.active_climber].active=!0),t.p5.climbers=a.climbers,a}))}},{key:"onClimberLeft",value:function(){this.setState((function(e,t){if(null===e.active_climber||0===e.active_climber)return{};e.climbers[e.active_climber].active=!1;var a=e.active_climber-1;return e.climbers[a].active=!0,{active_climber:a,climbers:e.climbers}}))}},{key:"onClimberRight",value:function(){this.setState((function(e,t){if(null===e.active_climber||e.active_climber==e.climbers.length-1)return{};e.climbers[e.active_climber].active=!1;var a=e.active_climber+1;return e.climbers[a].active=!0,{active_climber:a,climbers:e.climbers}}))}},{key:"onClimberLaunch",value:function(e,t){null!=this.state.active_climber&&this.props.p5.launch(this.state.active_climber,e,t)}},{key:"onClimberTrack",value:function(){null!=this.state.active_climber&&this.props.p5.track("c"+this.state.active_climber)}},{key:"onUntrack",value:function(){this.props.p5.track()}},{key:"onPayloadTrack",value:function(){null!=this.state.active_payload&&this.props.p5.track("p"+this.state.active_payload)}},{key:"onPayloadLeft",value:function(){this.setState((function(e,t){if(null===e.active_payload||0==e.active_payload)return{};e.payloads[e.active_payload].active=!1;var a=e.active_payload-1;return e.payloads[a].active=!0,{active_payload:a,payloads:e.payloads}}))}},{key:"onPayloadRight",value:function(){this.setState((function(e,t){if(null===e.active_payload||e.active_payload==e.payloads.length-1)return{};e.payloads[e.active_payload].active=!1;var a=e.active_payload+1;return e.payloads[a].active=!0,{active_payload:a,payloads:e.payloads}}))}},{key:"render",value:function(){var e=this.state.running;return i.a.createElement("div",{className:"container-fluid text-center"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col text-left"},i.a.createElement("h1",null," Space Elevator Operator v4.1 "),i.a.createElement("h3",null," Created by Ivan Miloslavov and Stephen Cohen "),i.a.createElement("p",{className:"desc"},"This program presents the orbits that satellites delivered by a Space Elevator would take when released from various launch altitudes along the tether. To start, press the play button and adjust the rate of time lapse. You can create a new climber in the Climbers panel and send a payload to the launch altitude of your choice in however many days of transit you desire. Send as many climbers as you wish."),i.a.createElement("p",{className:"desc"},"If you have questions or ideas for improvment, as well as if you have found bugs, feel free to email Ivan at MiloslavovIvan[at]gmail[dot]com . If you want to know more about the Space Elevator, visit the ",i.a.createElement("a",{target:"_blank",href:"http://www.isec.org"},"International Space Elevator Consortium")," website."),i.a.createElement("p",{className:"desc"},"Music : Local Forecast - Elevator version, by Kevin Macleod (incompetech.com)"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xl-10 vh-xl-100"},i.a.createElement("div",{className:"py-2 h-100"},i.a.createElement($,{running:e,onPlayPause:this.onPlayPause.bind(this),onScaleAdjust:this.onScaleAdjust.bind(this),onUntrack:this.onUntrack.bind(this),time:this.props.p5.timeInDays(),scale:this.state.time_scale,tracking:this.props.p5.getTracked()}))),i.a.createElement("div",{className:"col-xl-2 h-xl-100"},i.a.createElement("div",{className:"py-2 h-xl-50"},i.a.createElement(V,{climbers:this.state.climbers,active:this.state.active_climber,onAdd:this.onClimberAdd.bind(this),onDelete:this.onClimberDelete.bind(this),onLeft:this.onClimberLeft.bind(this),onRight:this.onClimberRight.bind(this),onLaunch:this.onClimberLaunch.bind(this),onTrack:this.onClimberTrack.bind(this)})),i.a.createElement("div",{className:"py-2 h-xl-50"},i.a.createElement(W,{payloads:this.state.payloads,active:this.state.active_payload,onLeft:this.onPayloadLeft.bind(this),onRight:this.onPayloadRight.bind(this),onTrack:this.onPayloadTrack.bind(this)})))))}}])&&te(a.prototype,n),r&&te(a,r),t}(n.Component);var le=new s.a((function(e){var t,a=new M,n=null,i=e.createVector(0,0,0);e.elevator_music=null,e.climbers=[],e.payloads=[],e.preload=function(){f.IMAGE=e.loadImage("/res/images/Albedo.jpg"),e.elevator_music=e.loadSound("/res/sound/elevator.mp3")},e.setup=function(){var a=this.createCanvas(this.windowWidth,this.windowHeight,this.WEBGL);a.parent("sketch-holder"),a.id("sim-canvas"),t=.4*this.min(this.windowWidth,this.windowHeight)/y.LENGTH,this.angleMode(this.RADIANS),this.noStroke(),this.noFill(),this.windowResized(),this.updateTimeScale(5),e.elevator_music.setLoop(!0),e.elevator_music.playMode("untilDone")},e.updateTimeScale=function(e){a.scale=86.4*e/24},e.draw=function(){a.update(e.millis()),f.update(a),e.climbers.forEach((function(e){return e.update(a)})),e.payloads.forEach((function(e){return e.update(a)}));var r=null!==n?parseInt(n.substr(1)):null,o=null!==n&&("c"==n[0]&&null!=e.climbers[r]||"p"==n[0]&&e.payloads[r].contained),l=o?"p"==n[0]?r:e.payloads.indexOf(e.climbers[r].payload):null,c=o?"c"==n[0]?r:e.climbers.indexOf(e.payloads[r].container):null,s=function(a,r){var o;if(null===n)o=e.createVector(0,0,e.height/2/e.tan(30*e.PI/180)),e.camera(o.x,o.y,o.z,0,0,0,0,-1,0),e.perspective();else if(r){(o=("c"==n[0]?e.climbers[a]:e.payloads[a]).true_position.copy()).addMag(w.SIZE).mult(t),o.y*=-1;var l=e.createVector(0,0,-1);e.cameraV(o,i,l),e.perspective(e.PI/3,e.width/e.height,w.SIZE*t)}else if(e.payloads[a].impacted){(o=e.payloads[a].true_position.copy().addMag(.5*f.RADIUS)).mult(t),o.y*=-1;var c=e.createVector(0,0,-1);e.cameraV(o,i,c),e.perspective(e.PI/3,e.width/e.height,.01)}else{(o=e.payloads[a].true_position.copy()).mult(t),o.y*=-1;var s=e.payloads[a].container.momentum.copy();s.x*=-1,s.z*=-1,e.cameraV(o,i,s),e.perspective(e.PI/3,e.width/e.height,w.SIZE*t)}return o}(r,o).div(t);s.y*=-1,re.forceUpdate(),e.background(10),e.scale(t,-t,t),f.draw(e),y.draw(e,s,o),e.climbers.forEach((function(t,a){return!(o&&a==c)&&t.draw(e)})),e.payloads.forEach((function(t,a){return!(o&&a==l)&&t.draw(e)}))},e.windowResized=function(){var e=A()("#sketch-holder");t=.4*this.min(e.width(),e.height()-6)/y.LENGTH,this.resizeCanvas(e.width(),e.height()-6)},e.toggleTimer=function(){a.toggle()},e.timeInDays=function(){return(a.total/f.PERIOD).toFixed(2)},e.launch=function(t,n,i){var r=e.climbers[t];r.launch(a.total,i*f.PERIOD,r.height,1e3*n)},e.track=function(t){var a=null!==(n=null==t?null:t)?parseInt(n.substr(1)):null;null!==n&&("c"==n[0]&&null!=e.climbers[a]||"p"==n[0]&&e.payloads[a].contained)?e.elevator_music.play():e.elevator_music.pause()},e.getTracked=function(){return n}}));C.p5=le,T.p5=le,w.p5=le;var ce=i.a.createElement(oe,{p5:le,register:function(e){re=e}});function se(){return i.a.createElement(l.a,null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},ce)))}document.getElementById("root")&&o.a.render(i.a.createElement(se,null),document.getElementById("root"))}],[[15,0,1]]]);